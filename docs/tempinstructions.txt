# TEMPINSTRUCTIONS (rensad & synkad med playbook)

## SYFTE
Bygga en Solana‑sniper som reagerar på Cupsyys köp i LaunchLab‑pooler.
Mål: 90–95 % precision, latency < 350 ms, daglig riskbegränsning.

---

## STRATEGI
Hybridmodell:
1. Prediktiv filtrering: ML + feature-rules innan Cupsyy.
2. Bekräftelse vid första Cupsyy-signatur.
3. Rid på efterföljande flöde (copytraders).

---

## INFRASTRUKTUR

- **Dataflöde**: Yellowstone gRPC via Chainstack
- **Sändväg**: Jito Block Engine (`sendBundle`, `x-jito-auth`)
- **Placering**: EU (fsn1/nbg1), latency < 20 ms
- **Mål**: slot_lag ≤ 1, RTT < 40 ms, kodlatens < 3 ms

---

## TRADEPIPELINE

1. Pool-init via Geyser → kör feature extraction och ML-score
2. Skapa och signera swaps med olika priority-fees (i minnet)
3. Vid Cupsyy-signal → välj optimal bundle, skicka via Jito
4. Exit enligt SL/TP-regler i playbook §D

---

## POOLFILTER

Följ regler i playbook §C, med tillägg:

- **ML-score P(Cupsyy) ≥ 0.8** (vid tillgång till modell)
- **RTT mot Jito får ej överskrida 150 ms**
- **Timeout vid pool-init**: 500 ms max (enligt §C)

---

## RISKKONTROLLER

- Stoppa bot om:
  - precision (senaste 50 trades) < 85 %
  - dags‑P&L < –2 % av walletbalans
  - RTT > 150 ms
- Stop-loss: –4 % eller 45 sek (enligt §D)
- Max 2 samtidiga trades per wallet (enligt §D)
- Riskcap: 50 SOL per dygn

---

## KAPITAL & SKALNING

- Start: 0.1–0.5 SOL (testfas)
- Skala endast efter 100 trades med:
  - ≥ 95 % precision
  - +ROI netto
- WSOL-LP-anpassad trade-size enligt playbook §A

---

## LOGGNING & ML

- Logga varje trade: `slot_lag`, `fee_ratio`, `rug_score`, `outcome`
- Nattlig summering: precision, median fee, slot_lag
- Reträna ML-modell & uppdatera aliaslista var 10:e dag

---

## OPERATIVA RUTINER

- Backup av nycklar & konfig varje natt
- Kontrollera latency & driftstatus varje morgon

---

Kommentarer:
- Follower-signaler & alias-avvikande logik har strukits (kan ge falska triggers)
- Priority-fee tuning & exitlogik följer `sniper_playbook.md`
- Strategin och ML-gräns är behållna som tilläggsfilter
